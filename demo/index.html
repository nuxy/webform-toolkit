<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="../dist/webform-toolkit.min.css" />
    <link rel="stylesheet" type="text/css" href="css/demo.css" />

    <script type="text/javascript" src="../dist/webform-toolkit.min.js"></script>
    <script>
      let output;

      window.onload = function() {
        var settings = {
          action: 'https://www.domain.com/handler',
          params: null,
          groups: [
            {
              legend: 'Account Info',
              fields: [
                {
                  id: 'username',
                  label: 'User Name',
                  type: 'text',
                  name: 'username',
                  value: null,
                  maxlength: 15,
                  filter: '^\\w{0,15}$',
                  description: null,
                  placeholder: null,
                  error: 'Supported characters: A-Z, 0-9 and underscore',
                  required: true
                },
                {
                  id: 'password',
                  label: 'Password',
                  type: 'password',
                  name: 'password',
                  value: null,
                  maxlength: 15,
                  filter: '^(?!password)(.{0,15})$',
                  description: null,
                  placeholder: null,
                  error: 'The password entered is not valid',
                  required: true
                }
              ]
            },
            {
              legend: 'User Profile',
              fields: [
                {
                  id: 'image',
                  label: 'Avatar Image',
                  type: 'file',
                  name: 'upload',
                  maxlength: 18,
                  description: 'You can upload a JPG, GIF or PNG (File size < 2 MB)',
                  error: 'The upload failed due to unknown error',
                  required: false
                }
              ]
            },
            {
              legend: 'Demographics',
              fields: [
                {
                  id: 'age',
                  label: 'Age Group',
                  type: 'select',
                  name: 'age',
                  value: 'Select One',
                  filter: '18-24|25-34|35-44|45-54|55-64|65 or more',
                  description: null,
                  error: 'Must select a valid age group',
                  required: true
                },
                {
                  id: 'gender',
                  label: 'Gender',
                  type: 'radio',
                  name: 'gender',
                  value: 'Male',
                  filter: 'Male|Female|N/A',
                  description: null,
                  error: null,
                  required: false
                }
              ]
            },
            {
              legend: null,
              fields: [
                {
                  id: 'comments',
                  label: 'Comments',
                  type: 'textarea',
                  name: 'comments',
                  value: null,
                  maxlength: null,
                  filter: '^(?:\\w|\\s|\\.|,|\\?){0,55}$',
                  description: null,
                  placeholder: null,
                  error: 'Supported characters: Alphanumeric and ,.? characters',
                  required: false
                }
              ]
            },
            {
              legend: null,
              fields: [
                {
                  id: 'confirm',
                  label: "I want to check this box because it's a box",
                  type: 'checkbox',
                  name: 'confirm',
                  value: 1,
                  description: null,
                  error: null,
                  required: false
                }
              ]
            }
          ]
        };

        var callback = data => {

          // Convert File instance.
          var {lastModified, lastModifiedDate, name, size, type} = data.upload;
          data.upload = {lastModified, lastModifiedDate, name, size, type};

          output.textContent = 'DATA:';

          var pre = document.createElement('pre');
          pre.innerText = JSON.stringify(data, null, 2);

          output.appendChild(pre);
        };

        var container = document.getElementById('webform-toolkit');

        webformToolkit(container, settings, callback);

        output = document.getElementById('output');
    };
  </script>

  <title>Create a HTML form with field validation and custom errors | Webform Toolkit</title>
</head>
<body>
  <div id="webform-toolkit"></div>
  <div id="output"></div>
</body>
</html>
